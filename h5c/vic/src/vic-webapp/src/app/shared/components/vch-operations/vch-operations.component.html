<!-- Read Only content -->
<div *ngIf="readOnly; else formContent">
  <clr-stack-view>
    <clr-stack-block>
      <clr-stack-label>{{ i18n.translate('vch.operations.vSphereUserCredentials') }}</clr-stack-label>
      <clr-stack-content>{{ model.opsUser }}</clr-stack-content>
    </clr-stack-block>
    <clr-stack-block>
      <clr-stack-label>{{ i18n.translate('vch.operations.grantUserPermissions') }}</clr-stack-label>
      <clr-stack-content>{{model.opsGrantPerms ? i18n.translate('vch.common.label.yes') : i18n.translate('vch.common.label.no')}}</clr-stack-content>
    </clr-stack-block>
  </clr-stack-view>
</div>

<!-- Form content -->
<ng-template #formContent>
  <p>
    {{ i18n.translate('vch.operations.provideInfo') }}<br>{{ i18n.translate('vch.operations.specifyInfo') }}
  </p>
  <form [formGroup]="form" novalidate>
    <section class="form-block" id='ops-user'>
      <div class="form-group row mb-0">
        <div class="col-xs-4">
          <label class="required" for="ops-user">
            {{ i18n.translate('vch.operations.vSphereUserCredentials') }}
          </label>
        </div>
        <div class="col-xs-5">
          <label for="ops-user"
                 aria-haspopup="true"
                 role="tooltip"
                 class="form-control tooltip tooltip-validation tooltip-md tooltip-top-left"
                 [class.invalid]="isFormControlInvalid(form.get('opsUser'))">
            <input id="ops-user"
                   class="form-control"
                   type="text"
                   [placeholder]="i18n.translate('vch.operations.userPlaceholder')"
                   formControlName="opsUser">

            <span class="tooltip-content" *ngIf="form.get('opsUser').hasError('required')">
              {{ i18n.translate('vch.operations.userNotEmpty') }}
            </span>
          </label>
        </div>
      </div>
      <div class="form-group row">
        <div class="col-xs-5 offset-xs-4">
          <label for="ops-password"
                 aria-haspopup="true"
                 role="tooltip"
                 class="form-control tooltip tooltip-validation tooltip-md tooltip-top-left"
                 [class.invalid]="isFormControlInvalid(form.get('opsPassword'))">

            <input id="ops-password"
                   class="form-control"
                   type="password"
                   [placeholder]="i18n.translate('vch.common.label.password')"
                   formControlName="opsPassword">

            <span class="tooltip-content" *ngIf="form.get('opsPassword').hasError('required')">
              {{ i18n.translate('vch.operations.passNotEmpty') }}
            </span>
          </label>
        </div>
      </div>
      <div class="form-group row">
        <div class="col-xs-5 offset-xs-4">
          <div class="checkbox">
            <input type="checkbox" id="ops-grant-perms" formControlName="opsGrantPerms">
            <label class="text-nowrap" for="ops-grant-perms">{{ i18n.translate('vch.operations.grantUserPermissions') }}</label>
          </div>
        </div>
      </div>
    </section>
  </form>
</ng-template>
